(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){$(document).ready(function(){require("./queryMaker.js")(),require("./querySaver.js")()})},{"./queryMaker.js":2,"./querySaver.js":3}],2:[function(require,module,exports){module.exports=function(){var t=$("#query-box"),e=$("#query-result-box");$("#run-query-btn").click(function(){e.html("Running query..."),$.ajax({url:"http://localhost:8080/query?q="+encodeURIComponent(t.val()),method:"GET",dataType:"json"}).done(function(t){var n="<tr><th>"+t.fields.map(function(t){return(t.table?t.table+".":"")+t.name}).join("</th><th>")+"</th></tr>",r=t.result.map(function(e){return"<tr><td>"+t.fields.map(function(t){return e[t.name]}).join("</td><td>")+"</td></tr>"}).join("");e.html('<table class="table table-striped">'+n+r+"</table>")}).fail(function(t,n,r){e.html('<div class="alert alert-danger">'+(t.responseJSON&&t.responseJSON.sqlMessage||t.responseText||n)+"</div>")})})}},{}],3:[function(require,module,exports){function getWorkspaceKey(e){return"workspace_"+e}function getWorkspaceNames(e){}function getWorkspaceQueries(e,r){localforage.getItem(getWorkspaceKey(e),function(e,a){e?r(e):(a=a||{},r(null,Object.keys(a).map(function(e){return{name:e,query:a[e].query,saveTime:a[e].saveTime}}).sort(function(e,r){return r.saveTime-e.saveTime})))})}function setWorkspaceQuery(e,r,a,t){var o=getWorkspaceKey(e);localforage.getItem(o,function(e,n){e?t(e):((n=n||{})[r]={query:a,saveTime:Date.now()},localforage.setItem(o,n,t))})}module.exports=function(){var e=$("#query-workspace"),r=$("#query-name"),a=$("#query-box");$("#save-query-form").submit(function(){r.val()&&e.val()&&a.val()&&setWorkspaceQuery(e.val().trim().toLowerCase(),r.val().trim().toLowerCase(),a.val().trim().toLowerCase(),function(e){e?(alert("Error saving query: "+e),console.error(e)):alert("Query saved")})});var t=$("#query-workspace-get"),o=$("#workspace-queries-box");$("#get-query-form").submit(function(){t.val()&&(o.html(""),getWorkspaceQueries(t.val(),function(n,u){if(n)alert("Error fetching queries: "+n),console.error(n);else{var s=$('<table class="table table-hover"></table'),c=$("<tbody></tbody");c.append(u.map(function(o){var n=$('<tr class="saved-query"></tr>'),u=$("<td></td>");return u.text(o.name),n.attr("query",o.query),n.append(u),n.click(function(){a.val(o.query),e.val(t.val()),r.val(o.name),$("#run-query-btn").click()}),n})),s.append(c),o.html(s)}}))})}},{}]},{},[1]);